<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta charset="UTF-8">
    <title>NLP4J by emorynlp</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link href='https://fonts.googleapis.com/css?family=Open+Sans:400,700' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" type="text/css" href="../stylesheets/normalize.css" media="screen">
    <link rel="stylesheet" type="text/css" href="../stylesheets/stylesheet.css" media="screen">
    <link rel="stylesheet" type="text/css" href="../stylesheets/github-light.css" media="screen">
  </head>
  <body>
    <section class="page-header">
      <h1 class="project-name">NLP4J</h1>
      <h2 class="project-tagline"><b>NLP Toolkit for JVM Languages</b></h3>
      <a href="https://github.com/emorynlp/nlp4j" target="_blank" class="btn">View on GitHub</a>
      <a href="http://search.maven.org/#search%7Cga%7C1%7Cnlp4j" target="_blank" class="btn">View on Maven</a>
      <a href="nlp.mathcs.emory.edu:8080/nlp4j" target="_blank" class="btn">View our Demo</a>
    </section>

    <section class="main-content">
      <h2>Decode</h2>

      <h3>Command-Line</h3>

      <p>The following command runs the NLP pipeline for tokenization, part-of-speech tagging, morphological analysis, named entity recognition, and dependency parsing:</p>

      <pre><code class="language-bash">java edu.emory.mathcs.nlp.bin.NLPDecode -c &lt;filename&gt; -i &lt;filepath&gt; [-ie &lt;string&gt; -oe &lt;string&gt; -format &lt;string&gt; -threads &lt;integer&gt;]

-c       &lt;filename&gt; : configuration filename (required)
-i       &lt;filepath&gt; : input path (required)
-ie      &lt;string&gt;   : input file extension (default: *)
-oe      &lt;string&gt;   : output file extension (default: nlp)
-format  &lt;string&gt;   : format of the input data (raw|line|tsv; default: raw)
-threads &lt;integer&gt;  : number of threads (default: 2)</code></pre>

      <ul>
      <li><code>-c</code> specifies the configuration file (see <a href="#configuration">configuration</a>).</li>
      <li><code>-i</code> specifies the input path pointing to either a file or a directory. When the path points to a file, only the specific file is processed. When the path points to a directory, all files with the file extension <code>-ie</code> under the specific directory are processed.</li>
      <li><code>-ie</code> specifies the input file extension. The default value <code>*</code> implies files with any extension. This option is used only when the input path <code>-i</code> points to a directory.</li>
      <li><code>-oe</code> specifies the output file extension appended to each input filename. The corresponding output file, consisting of the NLP output, will be generated.</li>
      <li><code>-format</code> specifies the format of the input file: <code>raw</code>, <code>line</code>, or <code>tsv</code> (see <a href="../supplements/data-format.html">data format</a>).</li>
      <li><code>-threads</code> specifies the number of threads to be used. When multi-threads are used, each file is assigned to an individual thread.</li>
      </ul>

      <h3>Example</h3>

      <p>The following command takes <a href="https://github.com/emorynlp/nlp4j/blob/master/api/src/test/resources/dat/nlp4j.txt">nlp4j.txt</a> and generates <a href="https://github.com/emorynlp/nlp4j/blob/master/api/src/test/resources/dat/nlp4j.txt.nlp">nlp4j.txt.nlp</a> using <a href="https://github.com/emorynlp/nlp4j/blob/master/api/src/main/resources/edu/emory/mathcs/nlp/configuration/config-decode-en.xml">config-decode-en.xml</a>.</p>

      <pre><code class="language-bash">$ java -Xmx4g -XX:+UseConcMarkSweepGC edu.emory.mathcs.nlp.bin.NLPDecode -c config-decode-general.xml -i emorynlp.txt

Loading ambiguity classes
Loading word clusters
Loading word embeddings
Loading named entity gazetteers
Loading tokenizer
Loading part-of-speech tagger
Loading morphological analyzer
Loading named entity recognizer
Loading dependency parser

nlp4j.txt</code></pre>

      <ul>
      <li>Use the <a href="http://www.oracle.com/technetwork/java/tuning-139912.html"><code>-XX:+UseConcMarkSweepGC</code></a> option for JVM, which reduces the memory usage into a half.</li>
      <li>Use <a href="https://github.com/emorynlp/nlp4j/blob/master/api/src/main/resources/edu/emory/mathcs/nlp/configuration/log4j.properties"><code>log4j.properties</code></a> for the <a href="http://logging.apache.org/log4j/">log4j</a> configuration.</li>
      <li>The output file is generated in the <code>tsv</code> format (see <a href="../supplements/data-format.md#tab-separated-values-format">data format</a>).</li>
      </ul>

      <h3 id="configuration">Configuration</h3>

      <p>Sample configuration files for decoding can be found here: <a href="https://github.com/emorynlp/nlp4j/blob/master/api/src/main/resources/edu/emory/mathcs/nlp/configuration/">config-decode-*</a>.</p>

      <div><pre><code class="language-markup">&lt;configuration&gt;
          &lt;tsv&gt;
              &lt;column index=&quot;0&quot; field=&quot;form&quot;/&gt;
          &lt;/tsv&gt;

          &lt;lexica&gt;
              &lt;ambiguity_classes field=&quot;word_form_simplified_lowercase&quot;&gt;en-ambiguity-classes-simplified-lowercase.xz&lt;/ambiguity_classes&gt;
              &lt;word_clusters field=&quot;word_form_simplified_lowercase&quot;&gt;en-brown-clusters-simplified-lowercase.xz&lt;/word_clusters&gt;
              &lt;named_entity_gazetteers field=&quot;word_form_simplified&quot;&gt;en-named-entity-gazetteers-simplified.xz&lt;/named_entity_gazetteers&gt;
              &lt;word_embeddings field=&quot;word_form_undigitalized&quot;&gt;en-word-embeddings-undigitalized.xz&lt;/word_embeddings&gt;
          &lt;/lexica&gt;

          &lt;models&gt;
              &lt;pos&gt;en-pos.xz&lt;/pos&gt;
              &lt;ner&gt;en-ner.xz&lt;/ner&gt;
              &lt;dep&gt;en-dep.xz&lt;/dep&gt;
          &lt;/models&gt;
      &lt;/configuration&gt;</code></pre></div>

      <ul>
      <li><code>&lt;tsv&gt;</code>: see <a href="train.html#configuration">configuration#tsv</a>. This does not need to be specified when <code>raw</code> or <code>sen</code> is used.</li>
      <li><code>&lt;lexica&gt;</code>: see <a href="train.html#configuration">configuration#lexica</a>.</li>
      <li><code>&lt;models&gt;</code> specifies the statistical model for each component (e.g., <a href="../supplements/english.html#models">english models</a>, <a href="https://github.com/emorynlp/nlp4j-core/blob/master/src/main/java/edu/emory/mathcs/nlp/component/template/util/NLPMode.java">NLPMode</a>).</li>
      </ul>


      <footer class="site-footer">
        <span class="site-footer-credits">&copy;2016 by <a href="http://nlp.mathcs.emory.edu">Emory NLP</a>. All Rights Reserved.</span>
      </footer>
    </section>
  </body>
</html>
